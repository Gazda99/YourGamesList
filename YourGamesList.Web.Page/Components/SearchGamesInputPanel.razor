<MudPaper>
    <MudGrid>
        <MudItem xs="12" sm="12" md="12" lg="12" xl="12" xxl="12">
            <MudTextField @bind-Value="@SearchParameters.SearchText"
                          Label="Game Title" Variant="Variant.Outlined" InputType="InputType.Text"
            ></MudTextField>
        </MudItem>
        <MudItem>
            <MudSelect T="string" @bind-SelectedValues="@SearchParameters.SelectedGenres"
                       MultiSelection="true"
                       Label="Genre"
                       Variant="Variant.Outlined"
                       Clearable="true">
                @foreach (var genre in Genres)
                {
                    <MudSelectItem Value="@genre">@genre</MudSelectItem>
                }
            </MudSelect>
        </MudItem>
        <MudItem>
            <MudSelect T="string" @bind-SelectedValues="@SearchParameters.SelectedThemes"
                       MultiSelection="true"
                       Label="Theme"
                       Variant="Variant.Outlined"
                       Clearable="true">
                @foreach (var theme in Themes)
                {
                    <MudSelectItem Value="@theme">@theme</MudSelectItem>
                }
            </MudSelect>
        </MudItem>
        <MudItem>
            <MudSelect T="string" @bind-Value="@SearchParameters.SelectedGameType"
                       MultiSelection="false"
                       Label="Game Type"
                       Variant="Variant.Outlined"
                       Clearable="true">
                @foreach (var gameType in GameTypes)
                {
                    <MudSelectItem Value="@gameType">@gameType</MudSelectItem>
                }
            </MudSelect>
        </MudItem>
        <MudFlexBreak/>
        <MudItem>
            <MudButton
                Variant="Variant.Outlined"
                StartIcon="@Icons.Material.Filled.Search"
                Disabled="@SearchButtonDisabled"
            >@SearchButtonText</MudButton>
        </MudItem>
    </MudGrid>
</MudPaper>


@code {

    [Parameter] public required IEnumerable<string> Themes { get; set; }
    [Parameter] public required IEnumerable<string> Genres { get; set; }
    [Parameter] public required IEnumerable<string> GameTypes { get; set; }

    public SearchGamesParameters SearchParameters { get; set; } = new SearchGamesParameters();

    public string SearchButtonText { get; set; } = "Search!";
    public bool SearchButtonDisabled { get; set; } = false;


    public class SearchGamesParameters
    {
        public string SearchText { get; set; } = "";
        public IEnumerable<string>? SelectedThemes { get; set; }
        public IEnumerable<string>? SelectedGenres { get; set; }
        public string? SelectedGameType { get; set; }
    }

}